<!DOCTYPE html>
<html>
<body style="text-align: center;">

<h1>AQ: Jaern Multiattack Roller</h1>
<label for="Mod">Initial Modifier:</label>
<input type="number" id="Mod" name="Mod"><br><br>

<label for="AttNum">Number of Attacks:</label>
<input type="number" id="AttNum" name="AttNum"><br><br>

<select id = "Type">  
    <option> Good </option>  
    <option> Average </option>  
    <option> Bad </option>  
</select>  

<button type="button" onclick="diceroller()">Attack!</button>

<p id="result"></p>

<div style="position: absolute; bottom: 5px; text-align: left;"><button type="button" id="inf" onclick="info()">Show Info</button>
    <address id="info"></address>
</div>

<script>
function diceroller() {
    let Mod = Number(document.getElementById("Mod").value);
    let AttNum = Number(document.getElementById("AttNum").value);
    let MType = document.getElementById("Type").value;
    let result = "";
    min = Math.ceil(1);
    max = Math.floor(20);
    
    if(AttNum <= 0) {
        document.getElementById("result").innerHTML = "Please input a positive number of attacks";
        return;
    }

    for(let i = 0; i < AttNum; i++) {
        let d20 = Math.floor(Math.random() * (max - min + 1) + min);
        switch(MType) {
            case "Good":
                result += "Roll " + (i+1) + ": " + (d20 + Mod) + "<i> (Natural Roll: " + d20 + ") </i>" + "<br>";
                Mod -= 2;
                break;
            case "Average":
                result += "Roll " + (i+1) + ": " + (d20 + Mod) + "<i> (Natural Roll: " + d20 + ") </i>" + "<br>";
                Mod -= 4;
                break;
            case "Bad":
                result += "Roll " + (i+1) + ": " + (d20 + Mod) + "<i> (Natural Roll: " + d20 + ") </i>" + "<br>";
                Mod -= 6;
                break;
        }
    }
    document.getElementById("result").innerHTML = result;
}

function info() {
    let info = document.getElementById("info").innerHTML;
    if(info == "") {
        document.getElementById("info").innerHTML = "Made by Hunter Sullivan <br> Issues or ideas? Message me on the PFC Discord!";
        document.getElementById("inf").innerHTML = "Hide Info";
    } else {
        document.getElementById("info").innerHTML = "";
        document.getElementById("inf").innerHTML = "Show Info";
    }
}
</script>

</body>
</html>

